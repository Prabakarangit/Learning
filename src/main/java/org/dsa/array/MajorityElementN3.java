package org.dsa.array;

import java.util.ArrayList;
import java.util.Arrays;
import java.util.List;

public class MajorityElementN3 {

    public static void main(String[] args) {
        List<Integer> a = new ArrayList<>(Arrays.asList(1000797, 1000329, 1000978, 1000714, 1000955, 1000209, 1000262, 1000797, 1000478, 1000797, 1000323, 1000978, 1000797, 1000697, 1000196, 1000870, 1000749, 1000797, 1000797, 1000797, 1000725, 1000598, 1000731, 1000471, 1000797, 1000797, 1000797, 1000094, 1000797, 1000619, 1000694, 1000712, 1000536, 1000971, 1000723, 1000738, 1000888, 1000935, 1000077, 1000797, 1000902, 1000083, 1000427, 1000980, 1000797, 1000741, 1000334, 1000440, 1000797, 1000132, 1000634, 1000975, 1000797, 1000678, 1000264, 1000797, 1000797, 1000337, 1000570, 1000178, 1000567, 1000797, 1000455, 1000797, 1000797, 1000797, 1000565, 1000259, 1000051, 1000419, 1000797, 1000378, 1000797, 1000615, 1000519, 1000871, 1000797, 1000594, 1000507, 1000137, 1000694, 1000797, 1000797, 1000688, 1000797, 1000812, 1000642, 1000985, 1000991, 1000797, 1000797, 1000396, 1000114, 1000728, 1000968, 1000090, 1000069, 1000797, 1000797, 1000495, 1000435, 1000656, 1000479, 1000449, 1000503, 1000531, 1000797, 1000713, 1000203, 1000475, 1000981, 1000797, 1000199, 1000171, 1000796, 1000391, 1000157, 1000027, 1000567, 1000759, 1000617, 1000406, 1000082, 1000797, 1000189, 1000797, 1000878, 1000797, 1000867, 1000620, 1000506, 1000797, 1000797, 1000797, 1000475, 1000463, 1000710, 1000797, 1000925, 1000797, 1000797, 1000797, 1000728, 1000797, 1000797, 1000797, 1000797, 1000797, 1000797, 1000630, 1000276, 1000460, 1000943, 1000915, 1000797, 1000797, 1000797, 1000797, 1000167, 1000797, 1000797, 1000899, 1000545, 1000639, 1000101, 1000797, 1000329, 1000112, 1000498, 1000797, 1000017, 1000531, 1000416, 1000797, 1000797, 1000797, 1000797, 1000626, 1000797, 1000755, 1000797, 1000711, 1000797, 1000450, 1000407, 1000613, 1000797, 1000029, 1000862, 1000334, 1000365, 1000782, 1000974, 1000797, 1000797, 1000722, 1000476, 1000454, 1000797, 1000914, 1000888, 1000335, 1000797, 1000830, 1000797, 1000797, 1000364, 1000797, 1000070, 1000797, 1000797, 1000735, 1000089, 1000695, 1000797, 1000797, 1000154, 1000163, 1000260, 1000209, 1000961, 1000668, 1000005, 1000728, 1000856, 1000037, 1000797, 1000011, 1000005, 1000922, 1000297, 1000797, 1000797, 1000861, 1000734, 1000797, 1000841, 1000533, 1000797, 1000492, 1000610, 1000277, 1000797, 1000920, 1000916, 1000361, 1000737, 1000797, 1000797, 1000797, 1000645, 1000112, 1000797, 1000797, 1000797, 1000513, 1000797, 1000797, 1000529, 1000797, 1000377, 1000152, 1000712, 1000797, 1000433, 1000137, 1000232, 1000184, 1000154, 1000797, 1000797, 1000333, 1000797, 1000797, 1000365, 1000651, 1000511, 1000797, 1000797, 1000349, 1000797, 1000333, 1000797, 1000797, 1000841, 1000294, 1000797, 1000173, 1000398, 1000797, 1000797, 1000797, 1000183, 1000832, 1000797, 1000797, 1000797, 1000197, 1000506, 1000360, 1000481, 1000804, 1000611, 1000861, 1000507, 1000892, 1000227, 1000797, 1000890, 1000853, 1000510, 1000399, 1000797, 1000742, 1000181, 1000382, 1000797, 1000779, 1000797, 1000838, 1000430, 1000281, 1000797, 1000778, 1000735, 1000797, 1000551, 1000851, 1000581, 1000740, 1000259, 1000797, 1000963, 1000859, 1000434, 1000797, 1000797, 1000145, 1000797, 1000317, 1000347, 1000896, 1000916, 1000614, 1000224, 1000648, 1001000, 1000074, 1000797, 1000736, 1000797, 1000797, 1000797, 1000256, 1000683, 1000751, 1000797, 1000797, 1000156, 1000797, 1000797, 1000480, 1000797, 1000422, 1000260, 1000797, 1000283, 1000857, 1000797, 1000204, 1000565, 1000797, 1000644, 1000797, 1000470, 1000419, 1000576, 1000218, 1000413, 1000919, 1000797, 1000797, 1000797, 1000679, 1000797, 1000797, 1000797, 1000618, 1000384, 1000057, 1000465, 1000797, 1000102, 1000797, 1000797, 1000545, 1000023, 1000797, 1000912, 1000797, 1000797, 1000826, 1000797, 1000420, 1000382, 1000362, 1000797, 1000473, 1000797, 1000797, 1000797, 1000797, 1000469, 1000676, 1000855, 1000797, 1000797, 1000797, 1000037, 1000797, 1000797, 1000797, 1000959, 1000054, 1000797, 1000224, 1000964, 1000797, 1000094, 1000741, 1000797, 1000683, 1000042, 1000507, 1000797, 1000797, 1000230, 1000011, 1000436, 1000797, 1000797, 1000156, 1000423, 1000605, 1000271, 1000912, 1000386, 1000375, 1000121, 1000495, 1000656, 1000471, 1000453, 1000797, 1000167, 1000776, 1000321, 1000797, 1000018, 1000874, 1000665, 1000797, 1000797, 1000122, 1000381, 1000077, 1000797, 1000530, 1000597, 1000797, 1000520, 1000797, 1000954, 1000797, 1000089, 1000316, 1000730, 1000578, 1000840, 1000990, 1000797, 1000525, 1000540, 1000904, 1000511, 1000797, 1000861, 1000797, 1000020, 1000797, 1000578, 1000888, 1000622, 1000438, 1000202, 1000836, 1000608, 1000797, 1000032, 1000490, 1000797, 1000063, 1000797, 1000797, 1000956, 1000797, 1000688, 1000797, 1000797, 1000541, 1000434, 1000046, 1000693, 1000797, 1000121, 1000797, 1000024, 1000797, 1000325, 1000830, 1000040, 1000679, 1000097, 1000742, 1000797, 1000443, 1000579, 1000611, 1000797, 1000139, 1000270, 1000863, 1000797, 1000411, 1000776, 1000981, 1000797, 1000364, 1000797, 1000914, 1000797, 1000790, 1000797, 1000516, 1000641, 1000797, 1000797, 1000725, 1000525, 1000460, 1000869, 1000797, 1000125, 1000797, 1000026, 1000846, 1000323, 1000466, 1000282, 1000797, 1000939, 1000129, 1000894, 1000797, 1000797, 1000067, 1000906, 1000600, 1000911, 1000207, 1000797, 1000580, 1000674, 1000985, 1000743, 1000271, 1000797, 1000797, 1000797, 1000831, 1000150, 1000766, 1000079, 1000797, 1000468, 1000797, 1000077, 1000069, 1000064, 1000062, 1000425, 1000681, 1000079, 1000912, 1000588, 1000797, 1000481, 1000745, 1000566, 1000270, 1000797, 1000797, 1000767, 1000162, 1000797, 1000462, 1000473, 1000026, 1000344, 1000797, 1000188, 1000557, 1000340, 1000334, 1000833, 1000216, 1000797, 1000797, 1000315, 1000381, 1000797, 1000797, 1000924, 1000797, 1000345, 1000797, 1000797, 1000497, 1000013, 1000797, 1000984, 1000537, 1000956, 1000818, 1000797, 1000536, 1000615, 1000799, 1000797, 1000552, 1000583, 1000802, 1000619, 1000027, 1000217, 1000797, 1000797, 1000513, 1000725, 1000712, 1000985, 1000797, 1000608, 1000405, 1000013, 1000614, 1000738, 1000800, 1000126, 1000459, 1000079, 1000920, 1000797, 1000860, 1000797, 1000958, 1000926, 1000325, 1000448, 1000797, 1000047, 1000168, 1000459, 1000169, 1000688, 1000610, 1000313, 1000025, 1000655, 1000641, 1000454, 1000135, 1000362, 1000797, 1000658, 1000497, 1000189, 1000797, 1000797, 1000797, 1000457, 1000797, 1000791, 1000735, 1000797, 1000797, 1000636, 1000797, 1000257, 1000584, 1000959, 1000607, 1000541, 1000910, 1000797, 1000902, 1000797, 1000797, 1000856, 1000438, 1000797, 1000635, 1000271, 1000661, 1000797, 1000350, 1000797, 1000784, 1000797, 1000042, 1000849, 1000797, 1000179, 1000249, 1000004, 1000797, 1000797, 1000797, 1000067, 1000372, 1000797, 1000403, 1000799, 1000797, 1000761, 1000191, 1000797, 1000808, 1000797, 1000502, 1000873, 1000209, 1000448, 1000797, 1000797, 1000797, 1000384, 1000797, 1000671, 1000797, 1000413, 1000039, 1000742, 1000768, 1000797, 1000797, 1000287, 1000148, 1000023, 1000797, 1000469, 1000825, 1000797, 1000292, 1000525, 1000233, 1000257, 1000429, 1000797, 1000797, 1000219, 1000218 ));
        System.out.println(repeatedNumber(a));
    }


    public static int repeatedNumber(final List<Integer> a) {

        int count1=0;
        int count2=0;
        int element1=-1;
        int element2=-1;
        int n = a.size();

        for(int i=0; i<n; i++){

            if(count1==0 && a.get(i) != element2){
                element1 = a.get(i);
                count1++;
                continue;

            }
            if(count2==0 && a.get(i) != element1){
                element2 = a.get(i);
                count2++;
                continue;

            }

            if(element1 == a.get(i)){
                count1++;
            }else if(element2 == a.get(i)){
                count2++;
            }else{
                count1--;
                count2--;
            }

        }

        int k=0;
        int l=0;

        for(int i=0; i<n; i++){

            if(a.get(i) == element1){
                k++;
            }
            if(a.get(i) == element2){
                l++;
            }

            if(k > (n/3)){
                return element1;
            }
            if(l > (n/3)){
                return element2;
            }


        }
        return -1;




    }
}
